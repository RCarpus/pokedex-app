let pokemonRepository=function(){let e,t=[],n="https://pokeapi.co/api/v2/pokemon/?limit=151";function o(e){l();let t=e.detailsUrl;return fetch(t).then(function(e){return e.json()}).then(function(t){var n;e.imageUrl=t.sprites.front_default,e.height=t.height,e.weight=t.weight,e.types=(n=t.types,console.log(n),n.map(e=>e.type.name)),a()}).catch(function(e){console.error(e),a()})}function i(e){t.push({name:e.name,detailsUrl:e.detailsUrl,pokeID:e.pokeID})}function l(){let e=document.querySelector("body"),t=document.createElement("h1");t.innerText="Loading",t.id="loading-message",e.appendChild(t)}function a(){let e=document.querySelector("#loading-message");document.querySelector("body").removeChild(e)}function c(){$(".close").click()}return window.addEventListener("keydown",function(t){let n=document.querySelector(".modal");"ArrowLeft"===t.key&&"none"!=getComputedStyle(n).display&&e>1&&(c(),document.querySelector(".ID-"+(e-1)).click()),"ArrowRight"===t.key&&"none"!=getComputedStyle(n).display&&e<151&&(c(),document.querySelector(".ID-"+(parseInt(e)+1)).click())}),{add:i,getAll:function(){return t},loadList:function(){return l(),fetch(n).then(function(e){return e.json()}).then(function(e){let t=0;e.results.forEach(function(e){t+=1,i({name:e.name[0].toUpperCase()+e.name.substring(1),detailsUrl:e.url,pokeID:"ID-"+t})}),a()}).catch(function(e){console.error(e),a()})},loadDetails:o,addListItem:function(t){let n=document.querySelector(".pokemon-list"),i=document.createElement("li");i.classList.add("list-group-item");let l=document.createElement("button");l.innerText=t.name,l.classList.add("btn"),l.classList.add("btn-primary"),l.classList.add(t.pokeID),l.setAttribute("data-toggle","modal"),l.setAttribute("data-target","#modal-container"),i.appendChild(l),n.appendChild(i),l.addEventListener("click",function(){!function(t){o(t).then(function(){!function(t){e=t.pokeID.slice(3);let n=$(".modal-body"),o=$(".modal-title");o.empty(),n.empty();let i=document.createElement("h1");i.innerText=t.name;let l=document.createElement("ul");l.classList.add("types-list"),t.types.forEach(function(e){let t=document.createElement("li");t.classList.add(e),t.classList.add("pokemon-type"),t.innerText=e,l.appendChild(t)});let a=document.createElement("p");a.innerText="Height: "+Math.round(10*t.height/2.54)+" in";let c=document.createElement("p");c.innerText="Weight: "+Math.round(t.weight/4.536)+" lbs";let d=document.createElement("img");d.classList.add("pokemon-image"),d.src=t.imageUrl,d.setAttribute("alt","an image of "+t.name),o.append(i),n.append(l),n.append(a),n.append(c),n.append(d)}(t)})}(t)})}}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});